{"code":"(this[\"webpackJsonpreact-chat-app\"]=this[\"webpackJsonpreact-chat-app\"]||[]).push([[0],{100:function(e,t,n){\"use strict\";n.r(t);var c=n(5),i=n(76),r=n.n(i),a=n(18),o=(n(89),n(39));n(101),n(91),n(102);o.a.apps.length?o.a.app():o.a.initializeApp({apiKey:\"AIzaSyBByBUddjoqRf5mwMP-o4Ueg5jG7RMd9GU\",authDomain:\"react-chat-app-ce948.firebaseapp.com\",projectId:\"react-chat-app-ce948\",storageBucket:\"react-chat-app-ce948.appspot.com\",messagingSenderId:\"911721171669\",appId:\"1:911721171669:web:abe372a4edd0d468cc705c\",measurementId:\"G-07221R6KQR\"});var s=o.a.firestore(),d=o.a.auth(),l=(o.a.firestore(),o.a.firestore(),o.a,n(60)),j=n(120),u=n(121),p=n(79),h=(n(96),n(15)),b=function(e){var t=e.scroll,n=Object(c.useState)(\"\"),i=Object(a.a)(n,2),r=i[0],b=i[1],f=Object(c.useState)(!1),x=Object(a.a)(f,2),m=x[0],O=x[1],g=Object(l.b)();return Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"form\",{onSubmit:function(e){e.preventDefault();var n=d.currentUser,c=n.uid,i=n.photoURL,a=e.target[0].files[0];a&&function(e){var n=Object(l.c)(g,e.name),r=Object(l.d)(n,e);r.on(\"state_changed\",(function(e){}),(function(e){}),(function(){Object(l.a)(r.snapshot.ref).then((function(e){s.collection(\"messages\").add({photoURL:i,downloadURL:e,uid:c,createdAt:o.a.firestore.FieldValue.serverTimestamp()}),b(\"\"),t.current.scrollIntoView({behavior:\"smooth\"})}))}))}(a),0!==r.trim().length&&(s.collection(\"messages\").add({text:r,photoURL:i,uid:c,createdAt:o.a.firestore.FieldValue.serverTimestamp()}),b(\"\"),t.current.scrollIntoView({behavior:\"smooth\"}))},children:Object(h.jsxs)(\"div\",{className:\"sendMsg\",children:[Object(h.jsx)(\"input\",{type:\"file\"}),Object(h.jsx)(j.a,{className:\"button\",onClick:function(){return O(!m)},children:Object(h.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"icon\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:Object(h.jsx)(\"path\",{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",d:\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),Object(h.jsx)(u.a,{style:{width:\"78%\",fontSize:\"15px\",fontWeight:\"550\",marginLeft:\"5px\",marginBottom:\"-3px\"},placeholder:\"Message...\",type:\"text\",value:r,onChange:function(e){return b(e.target.value)}}),Object(h.jsx)(j.a,{style:{width:\"18%\",fontSize:\"15px\",fontWeight:\"550\",margin:\"4px 5% -13px 5%\",maxWidth:\"200px\"},type:\"submit\",children:\"Send\"}),m&&Object(h.jsx)(\"div\",{children:Object(h.jsx)(p.a,{onSelect:function(e){var t=e.unified.split(\"-\"),n=[];t.forEach((function(e){return n.push(\"0x\"+e)}));var c=String.fromCodePoint.apply(String,n);b(r+c)}})})]})})})},f=function(){return Object(h.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",position:\"fixed\",width:\"100%\",backgroundColor:\"#FAFAFA\",top:0,borderBottom:\"solid 1px lightgray\",zIndex:\"10\"},children:Object(h.jsx)(j.a,{onClick:function(){return d.signOut()},children:\"Sign Out\"})})},x=function(){var e=Object(c.useRef)(),t=Object(c.useState)([]),n=Object(a.a)(t,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){s.collection(\"messages\").orderBy(\"createdAt\").limit(50).onSnapshot((function(e){r(e.docs.map((function(e){return e.data()})))}))}),[]),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(f,{}),Object(h.jsx)(\"div\",{className:\"msgs\",children:i.map((function(e){var t=e.id,n=e.text,c=e.photoURL,i=e.uid,r=e.downloadURL;return Object(h.jsx)(\"div\",{children:Object(h.jsxs)(\"div\",{className:\"msg \".concat(i===d.currentUser.uid?\"sent\":\"received\"),children:[Object(h.jsx)(\"img\",{src:c,alt:\"\"}),r?Object(h.jsx)(\"img\",{src:r,alt:\"\"}):Object(h.jsx)(\"p\",{children:n})]},t)})}))}),Object(h.jsx)(b,{scroll:e}),Object(h.jsx)(\"div\",{ref:e})]})},m=function(){return Object(h.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",height:\"100vh\",alignItems:\"center\"},children:Object(h.jsx)(j.a,{style:{padding:\"30px\",fontSize:\"20px\",borderRadius:\"0\",fontWeight:\"600\"},onClick:function(){var e=new o.a.auth.GoogleAuthProvider;d.signInWithPopup(e)},children:\"Sign In With Google\"})})},O=n(78);var g=function(){var e=Object(O.a)(d),t=Object(a.a)(e,1)[0];return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)(x,{}):Object(h.jsx)(m,{})})};r.a.render(Object(h.jsx)(g,{}),document.getElementById(\"root\"))},89:function(e,t,n){}},[[100,1,2]]]);","name":"static/js/main.cad1e777.chunk.js","map":{"version":3,"sources":["static/js/main.cad1e777.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_dom","react_dom_default","n","slicedToArray","index_esm","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","storage_dist_index_esm","Button","Input","dist_es","jsx_runtime","components_SendMessage","_ref","scroll","_useState","Object","_useState2","input","setInput","_useState3","_useState4","showEmojis","setShowEmojis","storage","children","onSubmit","e","preventDefault","_auth$currentUser","currentUser","uid","photoURL","file","target","files","storageRef","name","uploadTask","on","snapshot","error","ref","then","downloadURL","collection","add","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","uploadFiles","trim","text","className","type","onClick","xmlns","fill","viewBox","stroke","d","style","width","fontSize","fontWeight","marginLeft","marginBottom","placeholder","value","onChange","margin","maxWidth","onSelect","sym","unified","split","codesArray","forEach","el","emoji","String","fromCodePoint","apply","components_SignOut","display","justifyContent","position","backgroundColor","top","borderBottom","zIndex","signOut","components_Chat","messages","setMessages","orderBy","limit","onSnapshot","docs","map","doc","data","id","concat","src","alt","components_SignIn","height","alignItems","padding","borderRadius","provider","GoogleAuthProvider","signInWithPopup","react_firebase_hooks_auth_dist_index_esm","src_App","_useAuthState","user","a","render","document","getElementById","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-chat-app\"] = this[\"webpackJsonpreact-chat-app\"] || []).push([[0],{\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(76);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/firebase/compat/app/dist/index.esm.js\nvar index_esm = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/firebase/compat/firestore/dist/index.esm.js + 1 modules\nvar dist_index_esm = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./node_modules/firebase/compat/auth/dist/index.esm.js\nvar auth_dist_index_esm = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/firebase/compat/database/dist/index.esm.js + 1 modules\nvar database_dist_index_esm = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./src/firebase/firebase.js\n// Import the functions from the SDKs\n//web app's Firebase configuration\nvar config={apiKey:\"AIzaSyBByBUddjoqRf5mwMP-o4Ueg5jG7RMd9GU\",authDomain:\"react-chat-app-ce948.firebaseapp.com\",projectId:\"react-chat-app-ce948\",storageBucket:\"react-chat-app-ce948.appspot.com\",messagingSenderId:\"911721171669\",appId:\"1:911721171669:web:abe372a4edd0d468cc705c\",measurementId:\"G-07221R6KQR\"};// Initialize Firebase\nif(!index_esm[\"a\" /* default */].apps.length){index_esm[\"a\" /* default */].initializeApp(config);}else{index_esm[\"a\" /* default */].app();}var db=index_esm[\"a\" /* default */].firestore();var auth=index_esm[\"a\" /* default */].auth();var firestore=index_esm[\"a\" /* default */].firestore();var firebase_storage=index_esm[\"a\" /* default */].firestore();/* harmony default export */ var firebase = (index_esm[\"a\" /* default */]);\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js + 1 modules\nvar storage_dist_index_esm = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 17 modules\nvar Button = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Input/Input.js + 17 modules\nvar Input = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/emoji-mart/dist-es/index.js + 22 modules\nvar dist_es = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./node_modules/emoji-mart/css/emoji-mart.css\nvar emoji_mart = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/components/SendMessage.js\n// Import the functions from the SDKs\nvar SendMessage_SendMessage=function SendMessage(_ref){var scroll=_ref.scroll;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),showEmojis=_useState4[0],setShowEmojis=_useState4[1];var storage=Object(storage_dist_index_esm[\"b\" /* getStorage */])();// Add emojis function\nvar addEmoji=function addEmoji(e){var sym=e.unified.split(\"-\");var codesArray=[];sym.forEach(function(el){return codesArray.push(\"0x\"+el);});var emoji=String.fromCodePoint.apply(String,codesArray);setInput(input+emoji);};// form on submit send message function \nvar sendMessage=function sendMessage(e){// if(input.trim().length === 0) {\n//     return;\n// }\ne.preventDefault();var _auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,photoURL=_auth$currentUser.photoURL;var uploadFiles=function uploadFiles(file){var storageRef=Object(storage_dist_index_esm[\"c\" /* ref */])(storage,file.name);var uploadTask=Object(storage_dist_index_esm[\"d\" /* uploadBytesResumable */])(storageRef,file);// Register three observers:\n// 1. 'state_changed' observer, called any time the state changes\n// 2. Error observer, called on failure\n// 3. Completion observer, called on successful completion\nuploadTask.on('state_changed',function(snapshot){// Observe state change events such as progress, pause, and resume\n// Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n// const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n// console.log('Upload is ' + progress + '% done');\n// switch (snapshot.state) {\n// case 'paused':\n//     console.log('Upload is paused');\n//     break;\n// case 'running':\n//     console.log('Upload is running');\n//     break;\n// }\n},function(error){// Handle unsuccessful uploads\n},function(){// Handle successful uploads on complete\n// For instance, get the download URL: https://firebasestorage.googleapis.com/...\nObject(storage_dist_index_esm[\"a\" /* getDownloadURL */])(uploadTask.snapshot.ref).then(function(downloadURL){db.collection('messages').add({photoURL:photoURL,downloadURL:downloadURL,uid:uid,createdAt:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});setInput('');scroll.current.scrollIntoView({behavior:'smooth'});});});};var file=e.target[0].files[0];if(file){uploadFiles(file);}//add the form details to the database\nif(input.trim().length!==0){db.collection('messages').add({text:input,photoURL:photoURL,uid:uid,createdAt:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});setInput('');scroll.current.scrollIntoView({behavior:'smooth'});}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:sendMessage,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sendMsg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"button\",onClick:function onClick(){return setShowEmojis(!showEmojis);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"icon\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",d:\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{style:{width:'78%',fontSize:'15px',fontWeight:'550',marginLeft:'5px',marginBottom:'-3px'},placeholder:\"Message...\",type:\"text\",value:input,onChange:function onChange(e){return setInput(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{width:'18%',fontSize:'15px',fontWeight:'550',margin:'4px 5% -13px 5%',maxWidth:'200px'},type:\"submit\",children:\"Send\"}),showEmojis&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_es[\"a\" /* Picker */],{onSelect:addEmoji})})]})})});};/* harmony default export */ var components_SendMessage = (SendMessage_SendMessage);\n// CONCATENATED MODULE: ./src/components/SignOut.js\n// Import the functions from the SDKs\nvar SignOut_SignOut=function SignOut(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'center',position:'fixed',width:'100%',backgroundColor:'#FAFAFA',top:0,borderBottom:'solid 1px lightgray',zIndex:'10'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return auth.signOut();},children:\"Sign Out\"})});};/* harmony default export */ var components_SignOut = (SignOut_SignOut);\n// CONCATENATED MODULE: ./src/components/Chat.js\n// Import the functions from the SDKs\nvar Chat_Chat=function Chat(){var scroll=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messages=_useState2[0],setMessages=_useState2[1];Object(react[\"useEffect\"])(function(){db.collection('messages').orderBy('createdAt').limit(50).onSnapshot(function(snapshot){setMessages(snapshot.docs.map(function(doc){return doc.data();}));});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SignOut,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"msgs\",children:messages.map(function(_ref){var id=_ref.id,text=_ref.text,photoURL=_ref.photoURL,uid=_ref.uid,downloadURL=_ref.downloadURL;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"msg \".concat(uid===auth.currentUser.uid?'sent':'received'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:photoURL,alt:\"\"}),downloadURL?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:downloadURL,alt:\"\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:text})]},id)});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SendMessage,{scroll:scroll}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:scroll})]});};/* harmony default export */ var components_Chat = (Chat_Chat);\n// CONCATENATED MODULE: ./src/components/SignIn.js\n// Import the functions from the SDKs\nvar SignIn_SignIn=function SignIn(){// Signin with google function \nvar signInWithGoogle=function signInWithGoogle(){var provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();auth.signInWithPopup(provider);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'center',height:'100vh',alignItems:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{style:{padding:'30px',fontSize:'20px',borderRadius:'0',fontWeight:'600'},onClick:signInWithGoogle,children:\"Sign In With Google\"})});};/* harmony default export */ var components_SignIn = (SignIn_SignIn);\n// EXTERNAL MODULE: ./node_modules/react-firebase-hooks/auth/dist/index.esm.js\nvar react_firebase_hooks_auth_dist_index_esm = __webpack_require__(78);\n\n// CONCATENATED MODULE: ./src/App.js\n// Import the functions from the SDKs\nfunction App_App(){var _useAuthState=Object(react_firebase_hooks_auth_dist_index_esm[\"a\" /* useAuthState */])(auth),_useAuthState2=Object(slicedToArray[\"a\" /* default */])(_useAuthState,1),user=_useAuthState2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Chat,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SignIn,{})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[100,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/mohant/Documents/Learning/react-chat-app/src/firebase/firebase.js","/Users/mohant/Documents/Learning/react-chat-app/src/components/SendMessage.js","/Users/mohant/Documents/Learning/react-chat-app/src/components/SignOut.js","/Users/mohant/Documents/Learning/react-chat-app/src/components/Chat.js","/Users/mohant/Documents/Learning/react-chat-app/src/components/SignIn.js","/Users/mohant/Documents/Learning/react-chat-app/src/App.js","/Users/mohant/Documents/Learning/react-chat-app/src/index.js","/Users/mohant/Documents/Learning/react-chat-app/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/mohant/Documents/Learning/react-chat-app/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/mohant/Documents/Learning/react-chat-app/node_modules/postcss-loader/src/index.js??postcss!/Users/mohant/Documents/Learning/react-chat-app/src/App.css"],"names":["config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","apps","length","initializeApp","app","db","firestore","auth","storage","SendMessage","scroll","useState","input","setInput","showEmojis","setShowEmojis","getStorage","addEmoji","e","sym","unified","split","codesArray","forEach","el","push","emoji","String","fromCodePoint","sendMessage","preventDefault","currentUser","uid","photoURL","uploadFiles","file","storageRef","ref","name","uploadTask","uploadBytesResumable","on","snapshot","error","getDownloadURL","then","downloadURL","collection","add","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","target","files","trim","text","width","fontSize","fontWeight","marginLeft","marginBottom","value","margin","maxWidth","SignOut","display","justifyContent","position","backgroundColor","top","borderBottom","zIndex","signOut","Chat","useRef","messages","setMessages","useEffect","orderBy","limit","onSnapshot","docs","map","doc","data","id","SignIn","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","height","alignItems","padding","borderRadius","App","useAuthState","user","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// Import the functions from the SDKs\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/firestore';\nimport 'firebase/compat/auth';\nimport \"firebase/compat/database\";\n\n\n//web app's Firebase configuration\nconst config = {\n    apiKey: \"AIzaSyBByBUddjoqRf5mwMP-o4Ueg5jG7RMd9GU\",\n    authDomain: \"react-chat-app-ce948.firebaseapp.com\",\n    projectId: \"react-chat-app-ce948\",\n    storageBucket: \"react-chat-app-ce948.appspot.com\",\n    messagingSenderId: \"911721171669\",\n    appId: \"1:911721171669:web:abe372a4edd0d468cc705c\",\n    measurementId: \"G-07221R6KQR\"\n  };\n  \n  // Initialize Firebase\n  \n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n  } else {\n    firebase.app();\n  }\n  \n  export const db = firebase.firestore();\n  export const auth = firebase.auth();\n  export const firestore = firebase.firestore();\n  export const storage = firebase.firestore();\n  \n  export default firebase;","// Import the functions from the SDKs\n\nimport React, { useState } from 'react'\nimport { db, auth } from '../firebase/firebase';\nimport firebase from 'firebase/compat/app';\n\nimport { getStorage, ref, getDownloadURL, uploadBytesResumable } from \"firebase/storage\";\n\nimport { Input, Button } from '@mui/material/'\n\nimport { Picker } from \"emoji-mart\";\nimport \"emoji-mart/css/emoji-mart.css\";\n\n\nconst SendMessage = ({ scroll }) => {\n\n    const [input, setInput] = useState(\"\");\n    const [showEmojis, setShowEmojis] = useState(false);\n\n    const storage = getStorage();\n\n    // Add emojis function\n\n    const addEmoji = (e) => {\n        let sym = e.unified.split(\"-\");\n        let codesArray = [];\n        sym.forEach((el) => codesArray.push(\"0x\" + el));\n        let emoji = String.fromCodePoint(...codesArray);\n        setInput(input + emoji);\n    };\n\n     // form on submit send message function \n\n    const sendMessage = (e) => {\n        \n        \n\n        // if(input.trim().length === 0) {\n        //     return;\n        // }\n\n        e.preventDefault()\n        const { uid, photoURL } = auth.currentUser\n\n        const uploadFiles = (file) => {\n            const storageRef = ref(storage, file.name);\n\n            const uploadTask = uploadBytesResumable(storageRef, file);\n\n            // Register three observers:\n            // 1. 'state_changed' observer, called any time the state changes\n            // 2. Error observer, called on failure\n            // 3. Completion observer, called on successful completion\n            uploadTask.on('state_changed', \n            (snapshot) => {\n                // Observe state change events such as progress, pause, and resume\n                // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                // const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                // console.log('Upload is ' + progress + '% done');\n                // switch (snapshot.state) {\n                // case 'paused':\n                //     console.log('Upload is paused');\n                //     break;\n                // case 'running':\n                //     console.log('Upload is running');\n                //     break;\n                // }\n            }, \n            (error) => {\n                // Handle unsuccessful uploads\n            }, \n            () => {\n                // Handle successful uploads on complete\n                // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n                getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n\n                    db.collection('messages').add({\n                        photoURL,\n                        downloadURL,\n                        uid,\n                        createdAt: firebase.firestore.FieldValue.serverTimestamp()\n                    })\n                    setInput('')\n                    scroll.current.scrollIntoView({ behavior: 'smooth' })\n                });\n            }\n            );\n        };\n        \n        \n\n        const file = e.target[0].files[0];\n        if(file) {\n            uploadFiles(file);\n        }\n\n        //add the form details to the database\n        if(input.trim().length !== 0) {\n            db.collection('messages').add({\n                text: input,\n                photoURL,\n                uid,\n                createdAt: firebase.firestore.FieldValue.serverTimestamp()\n            })\n            setInput('')\n            scroll.current.scrollIntoView({ behavior: 'smooth' })\n        }\n    };\n\n    \n    \n    \n    \n    return (\n        <div>\n            <form onSubmit={sendMessage}>\n                <div className=\"sendMsg\">\n  \n            <input type=\"file\" />\n\n\n                    <Button className=\"button\" onClick={() => setShowEmojis(!showEmojis)}>\n                        <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"icon\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                            >\n                            <path\n                                stroke-linecap=\"round\"\n                                stroke-linejoin=\"round\"\n                                stroke-width=\"2\"\n                                d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                            />\n                        </svg>\n                    </Button>\n                    \n                    <Input style={{ width: '78%', fontSize: '15px', fontWeight: '550', marginLeft: '5px', marginBottom: '-3px' }} placeholder='Message...' type=\"text\" \n                        value={input} onChange={(e) => setInput(e.target.value)}\n                    />\n                    \n                    <Button style={{ width: '18%', fontSize: '15px', fontWeight: '550', margin: '4px 5% -13px 5%', maxWidth: '200px'}} type=\"submit\">Send</Button>\n                    {showEmojis && (\n                        <div>\n                        <Picker onSelect={addEmoji} />\n                        </div>\n                    )}\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default SendMessage","// Import the functions from the SDKs\n\nimport React from 'react'\nimport { auth } from '../firebase/firebase';\nimport Button from '@mui/material/Button'\n\nconst SignOut = () => {\n    \n    return (\n        <div style={{\n            display: 'flex', justifyContent: 'center', position: 'fixed', width: '100%', backgroundColor: '#FAFAFA', top: 0, borderBottom: 'solid 1px lightgray', zIndex: '10'\n        }}>\n            <Button onClick={() => auth.signOut()}>Sign Out</Button>\n        </div>\n    )\n}\n\nexport default SignOut","// Import the functions from the SDKs\nimport React, { useState, useEffect, useRef } from 'react'\nimport { db, auth } from '../firebase/firebase';\nimport SendMessage from './SendMessage'\nimport SignOut from './SignOut'\n\nconst  Chat = () => {\n    const scroll = useRef()\n    \n    const [messages, setMessages] = useState([])\n    useEffect(() => {\n        db.collection('messages').orderBy('createdAt').limit(50).onSnapshot(snapshot => {\n            setMessages(snapshot.docs.map(doc => doc.data()))\n        })\n    }, [])\n    \n    return (\n        <div>\n            <SignOut />\n            <div className=\"msgs\">\n                {messages.map(({ id, text, photoURL, uid, downloadURL }) => (\n                    <div>\n                        <div key={id} className={`msg ${uid === auth.currentUser.uid ? 'sent' : 'received'}`}>\n                            <img src={photoURL} alt=\"\" />\n                            {downloadURL ? (\n                                <img src={downloadURL} alt=\"\"/>\n                            ) : (\n                                <p>{text}</p>\n                            )}\n                            \n                        </div>\n                    </div>\n                ))}\n            </div>\n            <SendMessage scroll={scroll} />\n            <div ref={scroll}></div>\n        </div>\n    )\n}\n\nexport default Chat","// Import the functions from the SDKs\nimport React from 'react'\nimport firebase from 'firebase/compat/app';\nimport { auth } from '../firebase/firebase';\n\nimport Button from '@mui/material/Button'\n\nconst SignIn = () => {\n\n    // Signin with google function \n    const signInWithGoogle = () => {\n        const provider = new firebase.auth.GoogleAuthProvider()\n        auth.signInWithPopup(provider)\n    }\n    \n    return (\n        <div style={{ display: 'flex', justifyContent: 'center', height: '100vh', alignItems: 'center' }}>\n            <Button style={{ padding: '30px', fontSize: '20px', borderRadius: '0', fontWeight: '600' }} onClick={signInWithGoogle}>Sign In With Google</Button>\n        </div>\n    )\n}\n\nexport default SignIn","// Import the functions from the SDKs\nimport React from 'react';\nimport './App.css';\nimport Chat from './components/Chat';\nimport SignIn from './components/SignIn';\nimport { auth } from './firebase/firebase';\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nfunction App() {\n  const [user] = useAuthState(auth)\n  return (\n    <>\n      {user ? <Chat /> : <SignIn />}\n    </> \n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin"]}}