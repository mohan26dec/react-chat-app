{"ast":null,"code":"import _slicedToArray from\"/Users/mohant/Documents/Learning/react-chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Import the functions from the SDKs\nimport React,{useState,useEffect,useRef}from'react';import{db,auth}from'../firebase/firebase';import SendMessage from'./SendMessage';import SignOut from'./SignOut';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=function Chat(){var scroll=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];useEffect(function(){db.collection('messages').orderBy('createdAt').limit(50).onSnapshot(function(snapshot){setMessages(snapshot.docs.map(function(doc){return doc.data();}));});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SignOut,{}),/*#__PURE__*/_jsx(\"div\",{className:\"msgs\",children:messages.map(function(_ref){var id=_ref.id,text=_ref.text,photoURL=_ref.photoURL,uid=_ref.uid,downloadURL=_ref.downloadURL;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"msg \".concat(uid===auth.currentUser.uid?'sent':'received'),children:[/*#__PURE__*/_jsx(\"img\",{src:photoURL,alt:\"\"}),downloadURL?/*#__PURE__*/_jsx(\"img\",{src:downloadURL,alt:\"\"}):/*#__PURE__*/_jsx(\"p\",{children:text})]},id)});})}),/*#__PURE__*/_jsx(SendMessage,{scroll:scroll}),/*#__PURE__*/_jsx(\"div\",{ref:scroll})]});};export default Chat;","map":{"version":3,"sources":["/Users/mohant/Documents/Learning/react-chat-app/src/components/Chat.js"],"names":["React","useState","useEffect","useRef","db","auth","SendMessage","SignOut","Chat","scroll","messages","setMessages","collection","orderBy","limit","onSnapshot","snapshot","docs","map","doc","data","id","text","photoURL","uid","downloadURL","currentUser"],"mappings":"sKAAA;AACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,EAAT,CAAaC,IAAb,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFAEA,GAAOC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CAChB,GAAMC,CAAAA,MAAM,CAAGN,MAAM,EAArB,CAEA,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOS,QAAP,eAAiBC,WAAjB,eACAT,SAAS,CAAC,UAAM,CACZE,EAAE,CAACQ,UAAH,CAAc,UAAd,EAA0BC,OAA1B,CAAkC,WAAlC,EAA+CC,KAA/C,CAAqD,EAArD,EAAyDC,UAAzD,CAAoE,SAAAC,QAAQ,CAAI,CAC5EL,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAArB,CAAD,CAAX,CACH,CAFD,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,mBACI,oCACI,KAAC,OAAD,IADJ,cAEI,YAAK,SAAS,CAAC,MAAf,UACKV,QAAQ,CAACQ,GAAT,CAAa,kBAAGG,CAAAA,EAAH,MAAGA,EAAH,CAAOC,IAAP,MAAOA,IAAP,CAAaC,QAAb,MAAaA,QAAb,CAAuBC,GAAvB,MAAuBA,GAAvB,CAA4BC,WAA5B,MAA4BA,WAA5B,oBACV,kCACI,aAAc,SAAS,eAASD,GAAG,GAAKnB,IAAI,CAACqB,WAAL,CAAiBF,GAAzB,CAA+B,MAA/B,CAAwC,UAAjD,CAAvB,wBACI,YAAK,GAAG,CAAED,QAAV,CAAoB,GAAG,CAAC,EAAxB,EADJ,CAEKE,WAAW,cACR,YAAK,GAAG,CAAEA,WAAV,CAAuB,GAAG,CAAC,EAA3B,EADQ,cAGR,mBAAIH,IAAJ,EALR,GAAUD,EAAV,CADJ,EADU,EAAb,CADL,EAFJ,cAiBI,KAAC,WAAD,EAAa,MAAM,CAAEZ,MAArB,EAjBJ,cAkBI,YAAK,GAAG,CAAEA,MAAV,EAlBJ,GADJ,CAsBH,CAhCD,CAkCA,cAAeD,CAAAA,IAAf","sourcesContent":["// Import the functions from the SDKs\nimport React, { useState, useEffect, useRef } from 'react'\nimport { db, auth } from '../firebase/firebase';\nimport SendMessage from './SendMessage'\nimport SignOut from './SignOut'\n\nconst  Chat = () => {\n    const scroll = useRef()\n    \n    const [messages, setMessages] = useState([])\n    useEffect(() => {\n        db.collection('messages').orderBy('createdAt').limit(50).onSnapshot(snapshot => {\n            setMessages(snapshot.docs.map(doc => doc.data()))\n        })\n    }, [])\n    \n    return (\n        <div>\n            <SignOut />\n            <div className=\"msgs\">\n                {messages.map(({ id, text, photoURL, uid, downloadURL }) => (\n                    <div>\n                        <div key={id} className={`msg ${uid === auth.currentUser.uid ? 'sent' : 'received'}`}>\n                            <img src={photoURL} alt=\"\" />\n                            {downloadURL ? (\n                                <img src={downloadURL} alt=\"\"/>\n                            ) : (\n                                <p>{text}</p>\n                            )}\n                            \n                        </div>\n                    </div>\n                ))}\n            </div>\n            <SendMessage scroll={scroll} />\n            <div ref={scroll}></div>\n        </div>\n    )\n}\n\nexport default Chat"]},"metadata":{},"sourceType":"module"}