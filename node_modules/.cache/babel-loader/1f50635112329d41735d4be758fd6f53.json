{"ast":null,"code":"import _slicedToArray from\"/Users/mohant/Documents/Learning/react-chat-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Import the functions from the SDKs\nimport React,{useState}from'react';import{db,auth}from'../firebase/firebase';import firebase from'firebase/compat/app';import{Input,Button}from'@mui/material/';import{Picker}from\"emoji-mart\";import\"emoji-mart/css/emoji-mart.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SendMessage=function SendMessage(_ref){var scroll=_ref.scroll;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showEmojis=_useState4[0],setShowEmojis=_useState4[1];// Add emojis function\nvar addEmoji=function addEmoji(e){var sym=e.unified.split(\"-\");var codesArray=[];sym.forEach(function(el){return codesArray.push(\"0x\"+el);});var emoji=String.fromCodePoint.apply(String,codesArray);setInput(input+emoji);};// form on submit send message function \nvar sendMessage=function sendMessage(e){if(input.trim().length===0){return;}e.preventDefault();var _auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,photoURL=_auth$currentUser.photoURL;//add the form details to the database\ndb.collection('messages').add({text:input,photoURL:photoURL,uid:uid,createdAt:firebase.firestore.FieldValue.serverTimestamp()});setInput('');scroll.current.scrollIntoView({behavior:'smooth'});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:sendMessage,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sendMsg\",children:[/*#__PURE__*/_jsx(Button,{className:\"button\",onClick:function onClick(){return setShowEmojis(!showEmojis);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"icon\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",d:\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsx(Input,{style:{width:'78%',fontSize:'15px',fontWeight:'550',marginLeft:'5px',marginBottom:'-3px'},placeholder:\"Message...\",type:\"text\",value:input,onChange:function onChange(e){return setInput(e.target.value);}}),/*#__PURE__*/_jsx(Button,{style:{width:'18%',fontSize:'15px',fontWeight:'550',margin:'4px 5% -13px 5%',maxWidth:'200px'},type:\"submit\",children:\"Send\"}),showEmojis&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Picker,{onSelect:addEmoji})})]})})});};export default SendMessage;","map":{"version":3,"sources":["/Users/mohant/Documents/Learning/react-chat-app/src/components/SendMessage.js"],"names":["React","useState","db","auth","firebase","Input","Button","Picker","SendMessage","scroll","input","setInput","showEmojis","setShowEmojis","addEmoji","e","sym","unified","split","codesArray","forEach","el","push","emoji","String","fromCodePoint","sendMessage","trim","length","preventDefault","currentUser","uid","photoURL","collection","add","text","createdAt","firestore","FieldValue","serverTimestamp","current","scrollIntoView","behavior","width","fontSize","fontWeight","marginLeft","marginBottom","target","value","margin","maxWidth"],"mappings":"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","sourcesContent":["// Import the functions from the SDKs\n\nimport React, { useState } from 'react'\nimport { db, auth } from '../firebase/firebase';\nimport firebase from 'firebase/compat/app';\nimport { Input, Button } from '@mui/material/'\n\nimport { Picker } from \"emoji-mart\";\nimport \"emoji-mart/css/emoji-mart.css\";\n\n\nconst SendMessage = ({ scroll }) => {\n\n    const [input, setInput] = useState(\"\");\n    const [showEmojis, setShowEmojis] = useState(false);\n\n    // Add emojis function\n\n    const addEmoji = (e) => {\n        let sym = e.unified.split(\"-\");\n        let codesArray = [];\n        sym.forEach((el) => codesArray.push(\"0x\" + el));\n        let emoji = String.fromCodePoint(...codesArray);\n        setInput(input + emoji);\n    };\n\n     // form on submit send message function \n\n    const sendMessage = (e) => {\n\n        if(input.trim().length === 0) {\n            return;\n        }\n        e.preventDefault()\n        const { uid, photoURL } = auth.currentUser\n        //add the form details to the database\n        db.collection('messages').add({\n            text: input,\n            photoURL,\n            uid,\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\n        })\n        setInput('')\n        scroll.current.scrollIntoView({ behavior: 'smooth' })\n    }\n    \n    return (\n        <div>\n            <form onSubmit={sendMessage}>\n                <div className=\"sendMsg\">\n                    <Button className=\"button\" onClick={() => setShowEmojis(!showEmojis)}>\n                        <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"icon\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                            >\n                            <path\n                                stroke-linecap=\"round\"\n                                stroke-linejoin=\"round\"\n                                stroke-width=\"2\"\n                                d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                            />\n                        </svg>\n                    </Button>\n                    \n                    <Input style={{ width: '78%', fontSize: '15px', fontWeight: '550', marginLeft: '5px', marginBottom: '-3px' }} placeholder='Message...' type=\"text\" \n                        value={input} onChange={(e) => setInput(e.target.value)}\n                    />\n                    \n                    <Button style={{ width: '18%', fontSize: '15px', fontWeight: '550', margin: '4px 5% -13px 5%', maxWidth: '200px'}} type=\"submit\">Send</Button>\n                    {showEmojis && (\n                        <div>\n                        <Picker onSelect={addEmoji} />\n                        </div>\n                    )}\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default SendMessage"]},"metadata":{},"sourceType":"module"}